<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç - TalentSphere</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="dashboard.css">
    <link rel="stylesheet" href="dashboard-fixes.css">
    <link rel="stylesheet" href="create-project.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!DOCTYPE html>
    <html lang="ru">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç - TalentSphere</title>
        <link rel="stylesheet" href="styles.css">
        <link rel="stylesheet" href="dashboard.css">
        <link rel="stylesheet" href="dashboard-fixes.css">
        <link rel="stylesheet" href="create-project.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link <div class="header-left">
        <h1 class="page-title">–°–æ–∑–¥–∞—Ç—å <span class="gradient-text">–ø—Ä–æ–µ–∫—Ç</span></h1>
        <p class="page-subtitle">AI –ø–æ–º–æ–∂–µ—Ç –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –≤–∞—à—É –∏–¥–µ—é –≤ –≥–æ—Ç–æ–≤–æ–µ –¢–ó</p>
        </div>
        </header>

        <!-- Steps Indicator -->
        <div class="steps-container">
            <div class="step active" id="stepIndicator1">
            </div>
            <div class="step" id="stepIndicator2">
            </div>
            <div class="step" id="stepIndicator3">
            </div>
            <div class="step" id="stepIndicator4">
            </div>
        </div>

        <!-- Step 1: Description -->
        <div id="step1" class="step-content active">
            <div class="form-section glass-card">
                <h2 class="section-title">–û–ø–∏—à–∏—Ç–µ –≤–∞—à—É –∏–¥–µ—é</h2>

                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-pen-fancy" style="color: var(--neon-purple);"></i>
                        –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
                    </label>
                    <textarea class="form-textarea glass-card" rows="8"
                        placeholder="–û–ø–∏—à–∏—Ç–µ —Ü–µ–ª–∏, —Ü–µ–ª–µ–≤—É—é –∞—É–¥–∏—Ç–æ—Ä–∏—é, –æ–∂–∏–¥–∞–Ω–∏—è..."></textarea>

                    <div class="ai-suggestion-box">
                        <button class="btn-ai-assist neon-button-small" type="button">
                            <i class="fas fa-magic"></i> AI-–ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –¢–ó
                        </button>
                        <span class="form-hint" style="margin: 0;">–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã AI –ø–æ–º–æ–≥ —Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –º—ã—Å–ª–∏</span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-paperclip" style="color: var(--neon-blue);"></i>
                        –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
                    </label>
                    <div class="file-upload-area glass-card">
                        <i class="fas fa-cloud-upload-alt"
                            style="font-size: 32px; color: var(--text-secondary); margin-bottom: 10px;"></i>
                        <p style="color: var(--text-secondary);">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª—ã —Å—é–¥–∞ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞</p>
                    </div>
                </div>

                <div class="form-actions">
                    <button class="btn-secondary glass-card" type="button"
                        onclick="window.history.back()">–ù–∞–∑–∞–¥</button>
                    <button class="btn-primary neon-button" type="button" onclick="startAIAnalysis()">
                        <span>–î–∞–ª–µ–µ</span>
                        <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Step 2: AI Analysis -->
        <div id="step2" class="step-content" style="display: none;">

            <!-- Loading State -->
            <div id="aiLoading" class="ai-loading-overlay" style="display: none;">
                <div class="ai-spinner"></div>
                <h3>AI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–∞—à –ø—Ä–æ–µ–∫—Ç...</h3>
                <p style="color: var(--text-secondary);">–°–æ—Å—Ç–∞–≤–ª—è–µ–º –¢–ó, –ø–æ–¥–±–∏—Ä–∞–µ–º –∫–æ–º–∞–Ω–¥—É –∏ —Å—á–∏—Ç–∞–µ–º –±—é–¥–∂–µ—Ç</p>
            </div>

            <!-- Results -->
            <div id="aiResults" style="display: none;">
                <!-- Generated TS -->
                <div class="form-section glass-card">
                    <h2 class="section-title">üìã –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –¢–ó</h2>
                    <div class="generated-ts-grid">
                        <div class="form-group">
                            <label class="form-label">–¶–µ–ª–∏ –∏ –∑–∞–¥–∞—á–∏</label>
                            <textarea class="form-textarea glass-card"
                                rows="4">–°–æ–∑–¥–∞—Ç—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å –¥–ª—è —Ñ—Ä–∏–ª–∞–Ω—Å–µ—Ä–æ–≤ —Å AI-–ø–æ–¥–±–æ—Ä–æ–º. –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å - —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –≤—Ä–µ–º—è –ø–æ–∏—Å–∫–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –¥–æ 5 –º–∏–Ω—É—Ç.</textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">–°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π</label>
                            <div class="tags-container" style="display: flex; gap: 10px; flex-wrap: wrap;">
                                <span class="skill-tag">React <i class="fas fa-times skill-remove"></i></span>
                                <span class="skill-tag">Node.js <i class="fas fa-times skill-remove"></i></span>
                                <span class="skill-tag">PostgreSQL <i class="fas fa-times skill-remove"></i></span>
                                <span class="skill-tag">AI/ML <i class="fas fa-times skill-remove"></i></span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏</label>
                            <textarea class="form-textarea glass-card" rows="3">- –ü–æ–ª–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–¥ –º–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- –°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü < 1.5 —Å–µ–∫
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–ª–∞—Ç–µ–∂–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏</textarea>
                        </div>
                    </div>
                </div>

                <!-- Recommended Specialists -->
                <div class="form-section glass-card">
                    <h2 class="section-title">üë• –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∫–æ–º–∞–Ω–¥–∞</h2>
                    <div class="specialists-grid">
                        <!-- Card 1 -->
                        <div class="freelancer-card glass-card">
                            <div class="freelancer-video">
                                <img src="https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?w=400"
                                    alt="Video">
                                <div class="play-icon"><i class="fas fa-play"></i></div>
                            </div>
                            <div class="freelancer-info">
                                <div class="freelancer-header">
                                    <h5>–ê–Ω–Ω–∞ –í.</h5>
                                    <span class="rating"><i class="fas fa-star"></i> 4.9</span>
                                </div>
                                <p class="freelancer-role">Senior UI/UX Designer</p>
                                <div class="freelancer-skills">
                                    <span>Figma</span>
                                    <span>Prototyping</span>
                                </div>
                                <div
                                    style="display: flex; justify-content: space-between; align-items: center; margin-top: 10px;">
                                    <span style="color: var(--neon-blue); font-weight: 600;">$45/—á</span>
                                    <button class="btn-small-primary">–í—ã–±—Ä–∞—Ç—å</button>
                                </div>
                            </div>
                        </div>

                        <!-- Card 2 -->
                        <div class="freelancer-card glass-card">
                            <div class="freelancer-video">
                                <img src="https://images.unsplash.com/photo-1560250097-0b93528c311a?w=400" alt="Video">
                                <div class="play-icon"><i class="fas fa-play"></i></div>
                            </div>
                            <div class="freelancer-info">
                                <div class="freelancer-header">
                                    <h5>–ú–∞–∫—Å–∏–º –ö.</h5>
                                    <span class="rating"><i class="fas fa-star"></i> 5.0</span>
                                </div>
                                <p class="freelancer-role">Frontend Developer</p>
                                <div class="freelancer-skills">
                                    <span>React</span>
                                    <span>Vue.js</span>
                                </div>
                                <div
                                    style="display: flex; justify-content: space-between; align-items: center; margin-top: 10px;">
                                    <span style="color: var(--neon-blue); font-weight: 600;">$50/—á</span>
                                    <button class="btn-small-primary">–í—ã–±—Ä–∞—Ç—å</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button class="btn-secondary glass-card" style="width: 100%;">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ—Ö –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤</button>
                </div>

                <!-- Budget -->
                <div class="form-section glass-card">
                    <h2 class="section-title">üí∞ –†–∞—Å—á–µ—Ç –±—é–¥–∂–µ—Ç–∞</h2>
                    <div class="budget-table-container">
                        <table style="width: 100%; border-collapse: collapse; color: var(--text-primary);">
                            <thead>
                                <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                                    <th style="text-align: left; padding: 10px;">–†–æ–ª—å</th>
                                    <th style="text-align: right; padding: 10px;">–ß–∞—Å—ã</th>
                                    <th style="text-align: right; padding: 10px;">–°—Ç–∞–≤–∫–∞</th>
                                    <th style="text-align: right; padding: 10px;">–°—É–º–º–∞</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr style="border-bottom: 1px solid rgba(255,255,255,0.05);">
                                    <td style="padding: 10px;">UI/UX Designer</td>
                                    <td style="text-align: right; padding: 10px;">40</td>
                                    <td style="text-align: right; padding: 10px;">$45</td>
                                    <td style="text-align: right; padding: 10px;">$1,800</td>
                                </tr>
                                <tr style="border-bottom: 1px solid rgba(255,255,255,0.05);">
                                    <td style="padding: 10px;">Frontend Dev</td>
                                    <td style="text-align: right; padding: 10px;">80</td>
                                    <td style="text-align: right; padding: 10px;">$50</td>
                                    <td style="text-align: right; padding: 10px;">$4,000</td>
                                </tr>
                                <tr style="border-bottom: 1px solid rgba(255,255,255,0.05);">
                                    <td style="padding: 10px;">Backend Dev</td>
                                    <td style="text-align: right; padding: 10px;">60</td>
                                    <td style="text-align: right; padding: 10px;">$55</td>
                                    <td style="text-align: right; padding: 10px;">$3,300</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="total-budget">
                        <span style="font-size: 18px; font-weight: 600;">–ò—Ç–æ–≥–æ–≤—ã–π –±—é–¥–∂–µ—Ç:</span>
                        <span class="amount"
                            style="font-size: 24px; font-weight: 700; color: var(--neon-green);">$9,100</span>
                    </div>
                </div>

                <div class="form-actions">
                    <button class="btn-secondary glass-card" onclick="backToStep1()">–ù–∞–∑–∞–¥</button>
                    <button class="btn-primary neon-button" onclick="goToStep3()">
                        <span>–î–∞–ª–µ–µ: –í—ã–±–æ—Ä –∫–æ–º–∞–Ω–¥—ã</span>
                        <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Step 3: Team Selection -->
        <div id="step3" class="step-content" style="display: none;">
            <div class="form-section glass-card">
                <h2 class="section-title">–í—ã–±–æ—Ä –∫–æ–º–∞–Ω–¥—ã</h2>

                <div class="form-group">
                    <label class="form-label">–†–∞–∑–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã</label>
                    <div class="team-size-selector">
                        <button class="size-btn active">3 —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞</button>
                        <button class="size-btn">5 —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤</button>
                        <button class="size-btn">–ë–æ–ª—å—à–µ</button>
                    </div>
                </div>

                <div class="candidates-gallery">
                    <div class="gallery-filters">
                        <button class="filter-pill active">–í—Å–µ</button>
                        <button class="filter-pill">–¢–æ–ø —Ä–µ–π—Ç–∏–Ω–≥</button>
                        <button class="filter-pill">–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</button>
                    </div>

                    <div class="specialists-grid">
                        <!-- Candidate 1 -->
                        <div class="freelancer-card glass-card selected-candidate">
                            <div class="selection-badge"><i class="fas fa-check"></i></div>
                            <div class="freelancer-video">
                                <img src="https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?w=400"
                                    alt="Video">
                                <div class="play-icon"><i class="fas fa-play"></i></div>
                            </div>
                            <div class="freelancer-info">
                                <div class="freelancer-header">
                                    <h5>–ê–Ω–Ω–∞ –í.</h5>
                                    <span class="rating"><i class="fas fa-star"></i> 4.9</span>
                                </div>
                                <p class="freelancer-role">Senior UI/UX Designer</p>
                                <button class="btn-small-primary active">–í –∫–æ–º–∞–Ω–¥–µ</button>
                            </div>
                        </div>

                        <!-- Candidate 2 -->
                        <div class="freelancer-card glass-card selected-candidate">
                            <div class="selection-badge"><i class="fas fa-check"></i></div>
                            <div class="freelancer-video">
                                <img src="https://images.unsplash.com/photo-1560250097-0b93528c311a?w=400" alt="Video">
                                <div class="play-icon"><i class="fas fa-play"></i></div>
                            </div>
                            <div class="freelancer-info">
                                <div class="freelancer-header">
                                    <h5>–ú–∞–∫—Å–∏–º –ö.</h5>
                                    <span class="rating"><i class="fas fa-star"></i> 5.0</span>
                                </div>
                                <p class="freelancer-role">Frontend Developer</p>
                                <button class="btn-small-primary active">–í –∫–æ–º–∞–Ω–¥–µ</button>
                            </div>
                        </div>

                        <!-- Candidate 3 -->
                        <div class="freelancer-card glass-card">
                            <div class="freelancer-video">
                                <img src="https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?w=400"
                                    alt="Video">
                                <div class="play-icon"><i class="fas fa-play"></i></div>
                            </div>
                            <div class="freelancer-info">
                                <div class="freelancer-header">
                                    <h5>–û–ª–µ–≥ –ü.</h5>
                                    <span class="rating"><i class="fas fa-star"></i> 4.8</span>
                                </div>
                                <p class="freelancer-role">Backend Developer</p>
                                <button class="btn-small-primary">–î–æ–±–∞–≤–∏—Ç—å</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="team-summary glass-card"
                    style="margin-top: 20px; background: rgba(0, 255, 157, 0.05); border-color: rgba(0, 255, 157, 0.2);">
                    <h3 style="font-size: 16px; margin-bottom: 10px;">–í–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ (2/3)</h3>
                    <div class="team-avatars">
                        <div class="team-avatar-item" title="–ê–Ω–Ω–∞ –í.">
                            <img src="https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?w=100"
                                style="width: 40px; height: 40px; border-radius: 50%; border: 2px solid var(--neon-green);">
                        </div>
                        <div class="team-avatar-item" title="–ú–∞–∫—Å–∏–º –ö.">
                            <img src="https://images.unsplash.com/photo-1560250097-0b93528c311a?w=100"
                                style="width: 40px; height: 40px; border-radius: 50%; border: 2px solid var(--neon-green);">
                        </div>
                        <div class="team-avatar-placeholder"
                            style="width: 40px; height: 40px; border-radius: 50%; border: 2px dashed rgba(255,255,255,0.3); display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-plus"></i>
                        </div>
                    </div>
                </div>

                <div class="form-actions">
                    <button class="btn-secondary glass-card" onclick="backToStep2()">–ù–∞–∑–∞–¥</button>
                    <button class="btn-primary neon-button" onclick="goToStep4()">
                        <span>–î–∞–ª–µ–µ: –û–ø–ª–∞—Ç–∞</span>
                        <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Step 4: Confirmation & Payment -->
        <div id="step4" class="step-content" style="display: none;">
            <div class="form-section glass-card">
                <h2 class="section-title">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏ –æ–ø–ª–∞—Ç–∞</h2>

                <div class="summary-card glass-card" style="margin-bottom: 20px;">
                    <div class="summary-row">
                        <span class="label">–ü—Ä–æ–µ–∫—Ç</span>
                        <span class="value">–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å —Ñ—Ä–∏–ª–∞–Ω—Å–µ—Ä–æ–≤</span>
                    </div>
                    <div class="summary-row">
                        <span class="label">–ö–æ–º–∞–Ω–¥–∞</span>
                        <span class="value">3 —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞</span>
                    </div>
                    <div class="summary-row">
                        <span class="label">–°—Ä–æ–∫</span>
                        <span class="value">2 –º–µ—Å—è—Ü–∞</span>
                    </div>
                    <div class="summary-row total">
                        <span class="label">–ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ</span>
                        <span class="value neon-text">$9,100</span>
                    </div>
                </div>

                <div class="escrow-settings">
                    <h3 class="section-subtitle">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ Escrow</h3>
                    <div class="escrow-option glass-card">
                        <div class="option-header">
                            <i class="fas fa-shield-alt" style="color: var(--neon-green);"></i>
                            <span>–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Å–¥–µ–ª–∫–∞</span>
                        </div>
                        <p>–°—Ä–µ–¥—Å—Ç–≤–∞ —Ä–µ–∑–µ—Ä–≤–∏—Ä—É—é—Ç—Å—è –∏ –≤—ã–ø–ª–∞—á–∏–≤–∞—é—Ç—Å—è –ø–æ—ç—Ç–∞–ø–Ω–æ –ø–æ—Å–ª–µ –ø—Ä–∏–µ–º–∫–∏ —Ä–∞–±–æ—Ç.</p>
                    </div>
                </div>

                <div class="payment-methods">
                    <h3 class="section-subtitle">–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</h3>
                    <div class="methods-grid">
                        <label class="method-card glass-card active">
                            <input type="radio" name="payment" checked>
                            <i class="fas fa-credit-card"></i>
                            <span>–ö–∞—Ä—Ç–∞</span>
                        </label>
                        <label class="method-card glass-card">
                            <input type="radio" name="payment">
                            <i class="fas fa-university"></i>
                            <span>–ë–∞–Ω–∫</span>
                        </label>
                        <label class="method-card glass-card">
                            <input type="radio" name="payment">
                            <i class="fab fa-bitcoin"></i>
                            <span>Crypto</span>
                        </label>
                    </div>
                </div>

                <div class="consent-checkboxes">
                    <label class="checkbox-label">
                        <input type="checkbox" checked>
                        <span>–Ø –ø—Ä–∏–Ω–∏–º–∞—é —É—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</span>
                    </label>
                </div>

                <div class="form-actions">
                    <button class="btn-secondary glass-card" onclick="backToStep3()">–ù–∞–∑–∞–¥</button>
                    <button class="btn-primary neon-button" onclick="alert('–ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω! üöÄ')">
                        <span>–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç</span>
                        <i class="fas fa-rocket"></i>
                    </button>
                </div>
            </div>
        </div>
        </main>

        <svg width="0" height="0" style="position: absolute;">
            <defs>
                <linearGradient id="gradient-purple" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#b000ff;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#7000ff;stop-opacity:1" />
                </linearGradient>
            </defs>
        </svg>

        <script src="script.js"></script>
        <script>
            function updateSteps(currentStep) {
                // Reset all steps
                for (let i = 1; i <= 4; i++) {
                    const indicator = document.getElementById(`stepIndicator${i}`);
                    const content = document.getElementById(`step${i}`);

                    // Update Indicators
                    if (i < currentStep) {
                        indicator.classList.add('completed');
                        indicator.classList.remove('active');
                    } else if (i === currentStep) {
                        indicator.classList.add('active');
                        indicator.classList.remove('completed');
                    } else {
                        indicator.classList.remove('active', 'completed');
                    }

                    // Update Content Visibility
                    if (i === currentStep) {
                        content.style.display = 'block';
                        setTimeout(() => content.classList.add('active'), 10);
                    } else {
                        content.style.display = 'none';
                        content.classList.remove('active');
                    }
                }
            }

            function startAIAnalysis() {
                updateSteps(2);
                document.getElementById('aiLoading').style.display = 'block';
                document.getElementById('aiResults').style.display = 'none';

                setTimeout(() => {
                    document.getElementById('aiLoading').style.display = 'none';
                    document.getElementById('aiResults').style.display = 'block';

                    // Fade in
                    document.getElementById('aiResults').style.opacity = 0;
                    let opacity = 0;
                    const fadeIn = setInterval(() => {
                        opacity += 0.1;
                        document.getElementById('aiResults').style.opacity = opacity;
                        if (opacity >= 1) clearInterval(fadeIn);
                    }, 50);
                }, 3000);
            }

            function backToStep1() { updateSteps(1); }
            function goToStep3() { updateSteps(3); }
            function backToStep2() {
                updateSteps(2);
                // Ensure results are shown when going back
                document.getElementById('aiLoading').style.display = 'none';
                document.getElementById('aiResults').style.display = 'block';
            }
            function goToStep4() { updateSteps(4); }
            function backToStep3() { updateSteps(3); }
        </script>
        </body>

    </html>